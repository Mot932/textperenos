To create a progress bar for your tkinter application, you can use the `progressbar` widget provided by the `tkinter.ttk` module. Here's how you can integrate a progress bar into your existing code:

1. First, import the `ttk` module:

```python
import tkinter as tk
from tkinter import colorchooser, filedialog, messagebox
from tkinter import Canvas
from tkinter.ttk import Progressbar  # Import Progressbar from tkinter.ttk
from PIL import Image
import analiz
```

2. Create a function to update the progress bar. You can define this function as follows:

```python
def update_progress_bar(value):
    progress_var.set(value)
    window.update_idletasks()
```

3. Create a progress bar widget and set its initial value to 0:

```python
progress_var = tk.DoubleVar()
progress_bar = Progressbar(window, variable=progress_var, length=200, mode='determinate')
progress_bar.grid(row=7, column=0, columnspan=2, padx=6, pady=6)
progress_var.set(0)  # Set the initial value to 0
```

4. Modify your `run` function to update the progress bar as your analysis progresses. You should call `update_progress_bar` with the appropriate value inside your function:

```python
def run():
    pos_list = []
    if noun_var.get():
        pos_list.append('NOUN')
    if verb_var.get():
        pos_list.append('VERB')

    if file_path:
        if color and len(color) == 2 and color[1]:
            analyzer = analiz.TextAnalyser(
                file_name=file_path,
                pos_list=pos_list,
                chislo=int(entry.get()),
                background=color[1],
                width=int(entry2.get()),
                height=int(entry3.get())
            )

            # You can add code here to update the progress bar as the analysis progresses
            total_steps = analyzer.get_total_steps()  # Replace with the actual total steps
            for step in range(total_steps):
                # Perform the analysis step
                # Update the progress bar
                progress_value = (step + 1) / total_steps * 100
                update_progress_bar(progress_value)

        else:
            messagebox.showerror("Ошибка", "Выберите цвет перед запуском анализатора")
    else:
        messagebox.showerror("Ошибка", "Выберите файл перед запуском анализатора")
```

Make sure to replace `analyzer.get_total_steps()` with the actual number of steps in your analysis process.

Now, the progress bar will update as the analysis progresses in your tkinter application.
